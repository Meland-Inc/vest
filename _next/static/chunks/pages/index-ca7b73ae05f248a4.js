(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{45301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(53929)}])},53929:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ee},default:function(){return te}});var r=n(28520),a=n.n(r),s=n(85893),i=n(9008),c=n(67852),o=n.n(c),l=n(28570),u=n(43889),d=n(67294),f=n(733),m=n.n(f),p=n(94184),x=n.n(p),h=/-(.)/g;var v=n(76792);const b=e=>{return e[0].toUpperCase()+(t=e,t.replace(h,(function(e,t){return t.toUpperCase()}))).slice(1);var t};var j=d.createContext({});const y=d.forwardRef((({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:a=!1,isInvalid:i=!1,as:c="input",...o},l)=>{const{controlId:u}=(0,d.useContext)(j);return t=(0,v.vE)(t,"form-check-input"),(0,s.jsx)(c,{...o,ref:l,type:r,id:e||u,className:x()(n,t,a&&"is-valid",i&&"is-invalid")})}));y.displayName="FormCheckInput";var w=y;const g=d.createContext(null);g.displayName="InputGroupContext";var k=g;const N=function(e,{displayName:t=b(e),Component:n,defaultProps:r}={}){const a=d.forwardRef((({className:t,bsPrefix:r,as:a=n||"div",...i},c)=>{const o=(0,v.vE)(r,e);return(0,s.jsx)(a,{ref:c,className:x()(t,o),...i})}));return a.defaultProps=r,a.displayName=t,a}("input-group-text",{Component:"span"}),T=d.forwardRef((({bsPrefix:e,size:t,hasValidation:n,className:r,as:a="div",...i},c)=>{e=(0,v.vE)(e,"input-group");const o=(0,d.useMemo)((()=>({})),[]);return(0,s.jsx)(k.Provider,{value:o,children:(0,s.jsx)(a,{ref:c,...i,className:x()(r,e,t&&`${e}-${t}`,n&&"has-validation")})})}));T.displayName="InputGroup";var E=Object.assign(T,{Text:N,Radio:e=>(0,s.jsx)(N,{children:(0,s.jsx)(w,{type:"radio",...e})}),Checkbox:e=>(0,s.jsx)(N,{children:(0,s.jsx)(w,{type:"checkbox",...e})})}),C=(n(42473),n(45697)),_=n.n(C);const O={type:_().string,tooltip:_().bool,as:_().elementType},I=d.forwardRef((({as:e="div",className:t,type:n="valid",tooltip:r=!1,...a},i)=>(0,s.jsx)(e,{...a,ref:i,className:x()(t,`${n}-${r?"tooltip":"feedback"}`)})));I.displayName="Feedback",I.propTypes=O;var P=I;const S=d.forwardRef((({bsPrefix:e,type:t,size:n,htmlSize:r,id:a,className:i,isValid:c=!1,isInvalid:o=!1,plaintext:l,readOnly:u,as:f="input",...m},p)=>{const{controlId:h}=(0,d.useContext)(j);let b;return e=(0,v.vE)(e,"form-control"),b=l?{[`${e}-plaintext`]:!0}:{[e]:!0,[`${e}-${n}`]:n},(0,s.jsx)(f,{...m,type:t,size:r,ref:p,readOnly:u,id:a||h,className:x()(i,b,c&&"is-valid",o&&"is-invalid","color"===t&&`${e}-color`)})}));S.displayName="FormControl";var $=Object.assign(S,{Feedback:P});var M=d.forwardRef((({bsPrefix:e,className:t,striped:n,bordered:r,borderless:a,hover:i,size:c,variant:o,responsive:l,...u},d)=>{const f=(0,v.vE)(e,"table"),m=x()(t,f,o&&`${f}-${o}`,c&&`${f}-${c}`,n&&`${f}-striped`,r&&`${f}-bordered`,a&&`${f}-borderless`,i&&`${f}-hover`),p=(0,s.jsx)("table",{...u,className:m,ref:d});if(l){let e=`${f}-responsive`;return"string"===typeof l&&(e=`${e}-${l}`),(0,s.jsx)("div",{className:e,children:p})}return p})),D=n(93680),F=(n(98336),n(35553)),G=n(70620),R=n(30381),Y=n.n(R);_().string,_().bool,_().bool,_().bool,_().bool;const Z=d.forwardRef((({bsPrefix:e,className:t,fluid:n,rounded:r,roundedCircle:a,thumbnail:i,...c},o)=>(e=(0,v.vE)(e,"img"),(0,s.jsx)("img",{ref:o,...c,className:x()(t,n&&`${e}-fluid`,r&&"rounded",a&&"rounded-circle",i&&`${e}-thumbnail`)}))));Z.displayName="Image",Z.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var U=Z,q="/_next/static/media/thank-you-later.53eb643a.png",z=n(30423),L=n.n(z),V="thank-you-later",H=function(){var e=(0,d.useRef)(null),t=(0,d.useState)(!1),n=t[0],r=t[1],a=(0,d.useState)(!1),i=a[0],c=a[1],o=(0,d.useState)(60),l=o[0],u=o[1];(0,d.useEffect)((function(){if(localStorage.getItem(V)||c(!0),e.current){var t=e.current;l<=0&&Math.floor(t.scrollTop)>=Math.floor(t.scrollHeight-t.clientHeight-300)&&r(!0)}}),[e.current,l]),(0,d.useEffect)((function(){var e=setInterval((function(){u((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}),[]);var f=function(){localStorage.setItem(V,"true"),c(!1)},m=(0,d.useMemo)((function(){return e.current?(0,s.jsxs)(D.Z,{disabled:!n,onClick:f,variant:"primary",children:["OK, I understand and take own risk",l>0&&"(".concat(l," seconds.)")]}):null}),[e.current,n,l]);return i?(0,s.jsxs)("div",{className:L().warp,children:[(0,s.jsx)("div",{ref:e,style:{position:"relative",height:"100%",overflow:"scroll"},children:(0,s.jsx)(U,{src:q,thumbnail:!0})}),m]}):null};function A(e,t,n,r,a,s,i){try{var c=e[s](i),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){A(s,r,a,i,c,"next",e)}function c(e){A(s,r,a,i,c,"throw",e)}i(void 0)}))}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}var X="0xf8aE4Ef55628aacFb9Bd6E777b0F5D35C173F624".toLowerCase(),K="0xb4939DDfd7425FaE040A42BBb5220756973Fc329".toLowerCase(),Q={width:"10vw",justifyContent:"flex-end"},ee=!0,te=function(e){var t=(0,d.useState)(""),n=t[0],r=t[1],c=(0,d.useState)(!1),f=c[0],p=c[1],x=(0,d.useState)(void 0),h=x[0],v=x[1],b=(0,d.useState)([]),j=b[0],y=b[1],w=(0,d.useState)(new Date),g=w[0],k=w[1];(0,d.useEffect)((function(){var e=window.setInterval((function(){k(new Date)}),1e3);return function(){return window.clearInterval(e)}}));var N=(0,d.useState)(),T=N[0],C=N[1];(0,d.useEffect)((function(){(0,l.UJ)().then((function(e){v(e||null)}))}),[1]);var _=(0,d.useCallback)(B(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=u._2.connect(K,h.getSigner()),e.next=6,t.reviceTGE();case 6:return n=e.sent,p(!0),e.next=10,n.wait();case 10:return e.next=12,R(T.beneficiary);case 12:return e.prev=12,e.next=15,(0,l.dR)(X,h);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(12);case 19:C(J({},T,{recived:!0})),p(!1),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(2),window.alert(JSON.stringify(e.t1));case 26:case"end":return e.stop()}}),e,null,[[2,23],[12,17]])}))),[h,T]),O=(0,d.useCallback)(B(a().mark((function e(t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return r=u._2.connect(K,h.getSigner()),e.next=5,r.release(t);case 5:return s=e.sent,e.next=8,s.wait();case 8:return e.next=10,R(n);case 10:case"end":return e.stop()}}),e)}))),[h,T,n]),I=(0,d.useMemo)((function(){if(T&&!T.recived){var e="[".concat(T.amount.gt(0)?"*":" ","]Normal [ ]Dumping [").concat(T.amount.eq(0)?"*":" ","]Uninvested");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"vc status:"}),(0,s.jsx)($,{"aria-label":"amount",value:e,disabled:!0})]}),(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"amount total:"}),(0,s.jsx)($,{"aria-label":"amount",value:(0,F.dF)(T.amount),disabled:!0})]}),(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"cliff month:"}),(0,s.jsx)($,{"aria-label":"amount",value:"".concat(T.cliffMonth.toNumber()," month"),disabled:!0})]}),(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"vesting month:"}),(0,s.jsx)($,{"aria-label":"amount",value:"".concat(T.vestingMonth.toNumber()," month"),disabled:!0})]}),(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"unlock TGE:"}),(0,s.jsx)($,{"aria-label":"amount",value:"".concat(T.unlockTGE.toNumber(),"%"),disabled:!0})]}),(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"TGE Time:"}),(0,s.jsx)($,{"aria-label":"amount",value:T.amount.gt(0)?Y()(T.timeOfTGE).format("YYYY-MM-DD HH:mm:ss"):"-",disabled:!0})]}),(0,s.jsxs)(E,{className:"mb-3",children:[T.amount.eq(0)&&(0,s.jsx)(D.Z,{disabled:!0,onClick:_,variant:"primary",children:"not found vc info"}),!T.amount.eq(0)&&T.timeOfTGE>g&&(0,s.jsx)(D.Z,{disabled:!0,onClick:_,variant:"primary",children:Y()(g).to(T.timeOfTGE,!0)}),!T.amount.eq(0)&&T.timeOfTGE<g&&(0,s.jsx)(D.Z,{onClick:_,variant:"primary",children:"recive TGE and start vesting"})]})]})}return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(M,{striped:!0,bordered:!0,hover:!0,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Unlock time"}),(0,s.jsx)("th",{children:"amount"}),(0,s.jsx)("th",{children:"unlocked"})]})}),(0,s.jsx)("tbody",{children:j.map((function(e,t){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{width:"200px"},children:Y()(e.releaseTime).format("YYYY/MM/DD h:mm:ss")}),(0,s.jsx)("td",{children:(0,F.dF)(e.amount)}),(0,s.jsxs)("td",{children:[e.released&&(0,s.jsx)("span",{children:"released"}),!e.released&&(0,s.jsx)(D.Z,{disabled:e.releaseTime>g,onClick:function(){return O(e.vestingId)},variant:"primary",children:"unlock"})]})]},t)}))})]})})}),[T,j,g]),P=(0,d.useMemo)((function(){if(h)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"wallet address:"}),(0,s.jsx)($,{"aria-label":"address",value:n,disabled:!0})]}),(0,s.jsxs)(E,{className:"mb-3",children:[(0,s.jsx)(E.Text,{style:Q,children:"chain:"}),(0,s.jsx)($,{"aria-label":"chain",value:parseInt(e.networkId,16),disabled:!0})]}),I]})}),[n,T,g]),S=B(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return n=u._2.connect(K,h.getSigner()),e.next=5,n.vcmap(t);case 5:if(r=e.sent,C({recived:r.recived,amount:r.amount,cliffMonth:r.cliffMonth,vestingMonth:r.vestingMonth,unlockTGE:r.unlockTGE,beneficiary:r.beneficiary,timeOfTGE:new Date(1e3*r.timeOfTGE.toNumber())}),!r.recived){e.next=10;break}return e.next=10,R(t);case 10:case"end":return e.stop()}}),e)}))),R=B(a().mark((function e(t){var n,r,s,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return n=u._2.connect(K,h.getSigner()),r=n.filters.TokenVestingAdded(void 0,t),e.next=6,n.queryFilter(r);case 6:return s=e.sent,i=s.map(B(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.vestings(t.args.vestingId);case 2:return r=e.sent,e.abrupt("return",{vestingId:t.args.vestingId,beneficiary:r.beneficiary,amount:r.amount,releaseTime:new Date(1e3*r.releaseTime.toNumber()),released:r.released});case 4:case"end":return e.stop()}}),e)})))),e.next=10,Promise.all(i);case 10:c=e.sent,y(c);case 12:case"end":return e.stop()}}),e)}))),Z=(0,d.useCallback)(B(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=3;break}return console.warn("provider of undefined"),t.abrupt("return");case 3:return t.next=5,(0,l.f$)(h,e.networkId);case 5:return t.next=7,h.listAccounts();case 7:return n=t.sent,r(n[0]),t.next=11,S(n[0]);case 11:case"end":return t.stop()}}),t)}))),[h]),U=function(){window.open("https://metamask.io/")},q=(0,d.useMemo)((function(){return void 0===h?(0,s.jsx)(m(),{height:"20%",type:"spokes",color:"#ccc",width:"20%"}):null===h?(0,s.jsx)(D.Z,{onClick:U,variant:"primary",children:"please install metamask"}):(0,s.jsx)(D.Z,{onClick:Z,variant:"primary",children:"Connect wallet"})}),[h]);return(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsxs)(i.default,{children:[(0,s.jsx)("title",{children:"Meland.ai(MELD) vest"}),(0,s.jsx)("meta",{name:"description",content:"Meland.ai vesting dashboard"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("div",{className:o().he,children:(0,s.jsx)("img",{className:o().logo,src:G.Z.src})}),(0,s.jsx)(H,{}),f&&(0,s.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",width:"100px",height:"100px",transform:"translate(-50%, -50%)",zIndex:1001},children:(0,s.jsx)(m(),{height:"100%",type:"spokes",color:"#ccc",width:"100%"})}),(0,s.jsxs)("main",{className:o().main,children:[!n&&q,n&&P]}),(0,s.jsx)("footer",{className:o().footer,children:(0,s.jsx)("a",{href:"https://meland.ai",target:"_blank",rel:"noopener noreferrer",children:"Powered by Meland.ai"})})]})}},30423:function(e){e.exports={warp:"ThankYouLater_warp__TP2cV"}},92703:function(e,t,n){"use strict";var r=n(50414);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},42473:function(e){"use strict";var t=function(){};e.exports=t}},function(e){e.O(0,[482,764,885,853,243,774,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);